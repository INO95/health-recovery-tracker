# 2026-02-08 작업 로그

## 목표
- OCR/AI 정리 안정화
- Cloudflare 기반 외부 접속 배포
- 리커버리 계산 모델 개선(부위별 회복시간, 남은 회복시간)
- 세션 관리 기능(수정/삭제/초기화/복제)
- 맨몸운동(풀업) 처리 개선

## 주요 구현
- Cloudflare API/Frontend 배포 파이프라인 정리 및 실배포
- OCR 파싱/정규화 개선
  - 날짜/요약 누락 실패 케이스 보강
  - 운동명 alias override API/화면 추가
- 리커버리 모델 개선
  - 기본 회복시간: 대근육/중대근육 60h, 소근육/기타 36h, 유산소 24h
  - 사용자 설정 회복시간 API 및 UI 추가
  - 남은 회복시간(`remaining_hours`)과 다음 가능 시각(`next_train_at`) 계산/표시
  - AI 트레이너 조언(`trainer_advice`) 강화
- 세션 기능 확장
  - 수정(PATCH), 삭제(DELETE), 초기화(POST /reset), 복제(POST /clone)
  - 세션 시작시각(`started_at`) 저장/수정/복제 반영
- 운동-근육 매핑 강화
  - 메인/서브 근육 매핑 확장(한/영/일 alias)
  - 풀업: 메인 등, 서브 이두 적용
- 맨몸운동 볼륨 계산 개선
  - 기본 체중 70kg
  - 사용자 체중 설정 API/화면 추가
  - 풀업 중량 입력 시 `체중 + 추가중량`으로 계산

## API 추가/변경
- `GET /api/recovery`
- `GET /api/recovery/settings`, `PUT /api/recovery/settings`
- `GET /api/bodyweight`, `PUT /api/bodyweight`
- `PATCH /api/sessions/:id`, `DELETE /api/sessions/:id`
- `POST /api/sessions/reset`, `POST /api/sessions/:id/clone`
- `GET /api/exercise-aliases`, `POST /api/exercise-aliases`, `DELETE /api/exercise-aliases/:id`

## 검증
- cloudflare-api 테스트: 22개 통과
- cloudflare-api 타입체크 통과
- frontend 빌드 통과
- API/Pages 실배포 완료

## 배포 URL
- API: https://health-v2-api.health-recovery-tracker.workers.dev
- Frontend: https://health-v2-frontend.pages.dev
